name: loric-edu-analytics
version: 0.0.1
specVersion: v1beta
displayName: LoricEdu
description: Analytics Aggregator for Loric Edu
icon: ./assets/icon.png
license: Apache-2.0
sourceUrl: https://github.com/srikantloric/New-folder--2-
billingRequired: true

author:
  authorName: Your Companyyy
  email: extensions@example.com
  url: https://example.com/

contributors:
  - authorName: Your Name
    email: you@example.com
  - authorName: Another Contributor
    email: colleague@example.net
    url: https://github.com/their-org/

params:
  - param: PROJECT_ID
    label: Firebase Project ID
    description: Project ID where the payments collection exists
    type: string

resources:
  - name: onPaymentAdd
    type: firebaseextensions.v1beta.function
    properties:
      eventTrigger:
        eventType: providers/cloud.firestore/eventTypes/document.create
        resource: projects/${PROJECT_ID}/databases/(default)/documents/MY_PAYMENTS/{paymentId}
      entryPoint: onPaymentAdd
      runtime: nodejs20

  - name: onPaymentDelete
    type: firebaseextensions.v1beta.function
    properties:
      eventTrigger:
        eventType: providers/cloud.firestore/eventTypes/document.delete
        resource: projects/${PROJECT_ID}/databases/(default)/documents/MY_PAYMENTS/{paymentId}
      entryPoint: onPaymentDelete
      runtime: nodejs20
